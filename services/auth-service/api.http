### Auth Service API Tests

@baseUrl = http://localhost:8081

### Register a new user
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
    "name": "Test User",
    "email": "test@example.com",
    "password": "password123",
    "roles": ["ROLE_USER"]
}

### Login
# @name login
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
    "email": "test@example.com",
    "password": "password123"
}

@authToken = {{login.response.body.token}}

> {%
    const capturedToken = request.variables.get("authToken");
    console.log("------------------------------------------");
    console.log("DEBUG: authToken value:", capturedToken);
    console.log("------------------------------------------");
%}

### Refresh Token
POST {{baseUrl}}/api/auth/refreshtoken
Content-Type: application/json

{
    "refreshToken": "{{login.response.body.refreshToken}}"
}

### Get Current User Profile
GET {{baseUrl}}/api/users/me
Authorization: Bearer {{authToken}}

### Get User by ID (Admin Only)
GET {{baseUrl}}/api/users/1
Authorization: Bearer {{authToken}}

### Update Current User Profile
PUT {{baseUrl}}/api/users/me
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
    "name": "Updated Name"
}